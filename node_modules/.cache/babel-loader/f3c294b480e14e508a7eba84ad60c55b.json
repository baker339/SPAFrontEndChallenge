{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/aidanbaker/Desktop/spa-frontend-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Formik,Form}from\"formik\";import*as Yup from\"yup\";import CustomTextInput from\"../components/CustomTextInput\";import CountrySelect from\"../components/CountrySelect\";import ColorSelect from\"../components/ColorSelect\";import{Styles}from\"../Styles\";import GetCountries from\"../services/GetCountries\";import PhoneRegExp from\"../models/PhoneRegex\";import PhoneTextInput from\"../components/PhoneTextInput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomForm=/*#__PURE__*/function(_React$Component){_inherits(CustomForm,_React$Component);var _super=_createSuper(CustomForm);function CustomForm(){var _this;_classCallCheck(this,CustomForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,countries:null,countryCode:\"\",initialValues:{firstName:\"\",middleName:\"\",lastName:\"\",country:\"\",phoneNumber:\"\",emailAddress:\"\",favoriteColor:\"\",comments:\"\"},initialValuesSet:false};_this.setCountryCode=function(newCountryCode){_this.setState({countryCode:newCountryCode});};return _this;}_createClass(CustomForm,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=this;_context.next=3;return GetCountries();case 3:_context.t1=_context.sent;_context.t2={countries:_context.t1};_context.t0.setState.call(_context.t0,_context.t2);this.setInitialValues();case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"setInitialValues\",value:function setInitialValues(){if(this.props.submittedValues){this.setState({initialValues:{firstName:this.props.submittedValues.firstName,middleName:this.props.submittedValues.middleName?this.props.submittedValues.middleName:\"\",lastName:this.props.submittedValues.lastName,country:this.props.submittedValues.country,phoneNumber:this.props.submittedValues.phoneNumber,emailAddress:this.props.submittedValues.emailAddress,favoriteColor:this.props.submittedValues.favoriteColor,comments:this.props.submittedValues.comments?this.props.submittedValues.comments:\"\"}});}if(this.props.countryCode){this.setState({countryCode:this.props.countryCode});}this.setState({initialValuesSet:true});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Styles,{children:/*#__PURE__*/_jsx(\"div\",{children:this.state.countries&&this.state.initialValuesSet&&/*#__PURE__*/_jsx(Formik,{initialValues:this.state.initialValues,validationSchema:Yup.object({firstName:Yup.string().required(\"First Name is required\"),middleName:Yup.string().notRequired(),lastName:Yup.string().required(\"Last Name is required\"),country:Yup.string().required(\"Country is required\"),phoneNumber:Yup.string().matches(PhoneRegExp,\"Phone number is not valid\").min(10,\"Phone Number must be 10 digits\").max(10,\"Phone Number must be 10 digits\").required(\"Phone Number is required\"),emailAddress:Yup.string().email(\"Invalid Email Address\").required(\"Email Address is required\"),favoriteColor:Yup.string().required(\"Favorite Color is required\"),comments:Yup.string().notRequired().max(200,\"Comments must be 200 characters or less\")}),onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting,resetForm=_ref.resetForm;setTimeout(function(){resetForm();setSubmitting(false);},3000);_this2.props.submitForm();_this2.props.submitValues(values,_this2.state.countryCode);},children:function children(props){return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"span\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{href:\"https://ally.com\",children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"50%\",height:\"50%\"},src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Ally_Bank_logo.svg/200px-Ally_Bank_logo.svg.png\"})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to the Ally Front End Challenge Survey!\"}),/*#__PURE__*/_jsx(CustomTextInput,{label:\"First Name\",name:\"firstName\",type:\"text\",placeholder:\"First Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CustomTextInput,{label:\"Middle Name\",name:\"middleName\",type:\"text\",placeholder:\"Middle Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CustomTextInput,{label:\"Last Name\",name:\"lastName\",type:\"text\",placeholder:\"Last Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CountrySelect,{label:\"Country\",name:\"country\",countries:_this2.state.countries,setCountryCode:_this2.setCountryCode}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(PhoneTextInput,{label:\"Phone Number\",name:\"phoneNumber\",type:\"text\",placeholder:\"\",countryCode:_this2.state.countryCode}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CustomTextInput,{label:\"Email Address\",name:\"emailAddress\",type:\"text\",placeholder:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ColorSelect,{label:\"Favorite Color\",name:\"favoriteColor\",placeholder:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CustomTextInput,{label:\"Comments\",name:\"comments\",type:\"text\",placeholder:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:props.isSubmitting?\"Loading...\":\"Submit\"})]});}})})});}}]);return CustomForm;}(React.Component);export{CustomForm as default};","map":{"version":3,"sources":["/Users/aidanbaker/Desktop/spa-frontend-challenge/src/views/CustomForm.js"],"names":["React","Formik","Form","Yup","CustomTextInput","CountrySelect","ColorSelect","Styles","GetCountries","PhoneRegExp","PhoneTextInput","CustomForm","state","loading","countries","countryCode","initialValues","firstName","middleName","lastName","country","phoneNumber","emailAddress","favoriteColor","comments","initialValuesSet","setCountryCode","newCountryCode","setState","setInitialValues","props","submittedValues","object","string","required","notRequired","matches","min","max","email","values","setSubmitting","resetForm","setTimeout","submitForm","submitValues","textAlign","width","height","isSubmitting","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport CustomTextInput from \"../components/CustomTextInput\";\nimport CountrySelect from \"../components/CountrySelect\";\nimport ColorSelect from \"../components/ColorSelect\";\nimport { Styles } from \"../Styles\";\nimport GetCountries from \"../services/GetCountries\";\nimport PhoneRegExp from \"../models/PhoneRegex\";\nimport PhoneTextInput from \"../components/PhoneTextInput\";\n\nexport default class CustomForm extends React.Component {\n  state = {\n    loading: true,\n    countries: null,\n    countryCode: \"\",\n    initialValues: {\n      firstName: \"\",\n      middleName: \"\",\n      lastName: \"\",\n      country: \"\",\n      phoneNumber: \"\",\n      emailAddress: \"\",\n      favoriteColor: \"\",\n      comments: \"\",\n    },\n    initialValuesSet: false,\n  };\n\n  async componentDidMount() {\n    this.setState({ countries: await GetCountries() });\n    this.setInitialValues();\n  }\n\n  setCountryCode = (newCountryCode) => {\n    this.setState({ countryCode: newCountryCode });\n  };\n\n  setInitialValues() {\n    if (this.props.submittedValues) {\n      this.setState({\n        initialValues: {\n          firstName: this.props.submittedValues.firstName,\n          middleName: this.props.submittedValues.middleName\n            ? this.props.submittedValues.middleName\n            : \"\",\n          lastName: this.props.submittedValues.lastName,\n          country: this.props.submittedValues.country,\n          phoneNumber: this.props.submittedValues.phoneNumber,\n          emailAddress: this.props.submittedValues.emailAddress,\n          favoriteColor: this.props.submittedValues.favoriteColor,\n          comments: this.props.submittedValues.comments\n            ? this.props.submittedValues.comments\n            : \"\",\n        },\n      });\n    }\n    if (this.props.countryCode) {\n      this.setState({ countryCode: this.props.countryCode });\n    }\n    this.setState({ initialValuesSet: true });\n  }\n\n  render() {\n    return (\n      <Styles>\n        <div>\n          {this.state.countries && this.state.initialValuesSet && (\n            <Formik\n              initialValues={this.state.initialValues}\n              validationSchema={Yup.object({\n                firstName: Yup.string().required(\"First Name is required\"),\n                middleName: Yup.string().notRequired(),\n                lastName: Yup.string().required(\"Last Name is required\"),\n                country: Yup.string().required(\"Country is required\"),\n                phoneNumber: Yup.string()\n                  .matches(PhoneRegExp, \"Phone number is not valid\")\n                  .min(10, \"Phone Number must be 10 digits\")\n                  .max(10, \"Phone Number must be 10 digits\")\n                  .required(\"Phone Number is required\"),\n                emailAddress: Yup.string()\n                  .email(\"Invalid Email Address\")\n                  .required(\"Email Address is required\"),\n                favoriteColor: Yup.string().required(\n                  \"Favorite Color is required\"\n                ),\n                comments: Yup.string()\n                  .notRequired()\n                  .max(200, \"Comments must be 200 characters or less\"),\n              })}\n              onSubmit={(values, { setSubmitting, resetForm }) => {\n                setTimeout(() => {\n                  resetForm();\n                  setSubmitting(false);\n                }, 3000);\n                this.props.submitForm();\n                this.props.submitValues(values, this.state.countryCode);\n              }}\n            >\n              {(props) => (\n                <Form>\n                  <span style={{ textAlign: \"center\" }}>\n                    <a href=\"https://ally.com\">\n                      <img\n                        style={{ width: \"50%\", height: \"50%\" }}\n                        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Ally_Bank_logo.svg/200px-Ally_Bank_logo.svg.png\"\n                      />\n                    </a>\n                  </span>\n                  <h1>Welcome to the Ally Front End Challenge Survey!</h1>\n                  <CustomTextInput\n                    label=\"First Name\"\n                    name=\"firstName\"\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                  />\n                  <br />\n                  <CustomTextInput\n                    label=\"Middle Name\"\n                    name=\"middleName\"\n                    type=\"text\"\n                    placeholder=\"Middle Name\"\n                  />\n                  <br />\n                  <CustomTextInput\n                    label=\"Last Name\"\n                    name=\"lastName\"\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                  />\n                  <br />\n                  <CountrySelect\n                    label=\"Country\"\n                    name=\"country\"\n                    countries={this.state.countries}\n                    setCountryCode={this.setCountryCode}\n                  />\n                  <br />\n                  <PhoneTextInput\n                    label=\"Phone Number\"\n                    name=\"phoneNumber\"\n                    type=\"text\"\n                    placeholder=\"\"\n                    countryCode={this.state.countryCode}\n                  />\n                  <br />\n                  <CustomTextInput\n                    label=\"Email Address\"\n                    name=\"emailAddress\"\n                    type=\"text\"\n                    placeholder=\"\"\n                  />\n                  <br />\n                  <ColorSelect\n                    label=\"Favorite Color\"\n                    name=\"favoriteColor\"\n                    placeholder=\"\"\n                  />\n                  <br />\n                  <CustomTextInput\n                    label=\"Comments\"\n                    name=\"comments\"\n                    type=\"text\"\n                    placeholder=\"\"\n                  />\n                  <br />\n                  <button type=\"submit\">\n                    {props.isSubmitting ? \"Loading...\" : \"Submit\"}\n                  </button>\n                </Form>\n              )}\n            </Formik>\n          )}\n        </div>\n      </Styles>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}